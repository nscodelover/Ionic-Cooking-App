<ion-view view-title="">
  <ion-content ng-init="loadIngredients()">
    <div class="bar bar-header item-input-inset">
      <label class="item-input-wrapper">
        <i class="icon ion-ios-search placeholder-icon"></i>
        <input class="searchbar" id="searchKey" type="search"  placeholder="Zutaten eingeben" ng-model="searchKey"
        autocorrect="off">
        <button class="button button-clear" ng-click="clearSearch()">X</button>
      </label>
      <button class="button button-clear" ng-click="search()">Search</button>
    </div>

    <div class="selected_item_div">
      <label class="selected_item_container_title">AusgewaÌˆhlte Zutaten</label>
      <div class="selected_item_container">


          <div>
            <ul id="blanklist">
              <li class="col col-20" ng-repeat="bg_sel in bg_selects">
                <img class="thumbnail" ng-src="{{bg_sel.src}}" />
              </li>
            </ul>
          </div>


        <div class="row" ng-repeat="sel in selects" ng-if="$index % 5 === 0" >
          <div class="col col-20" ng-if="$index < selects.length" ng-click="deselectItem(selects[$index])">
            <img ng-src="{{selects[$index].src}}" width="100%" />
          </div>
          <div class="col col-20" ng-if="$index + 1 < selects.length" ng-click="deselectItem(selects[$index + 1])">
            <img ng-src="{{selects[$index + 1].src}}" width="100%" />
          </div>
          <div class="col col-20" ng-if="$index + 2 < selects.length" ng-click="deselectItem(selects[$index + 2])">
            <img ng-src="{{selects[$index + 2].src}}" width="100%" />
          </div>
          <div class="col col-20" ng-if="$index + 3 < selects.length" ng-click="deselectItem(selects[$index + 3])">
            <img ng-src="{{selects[$index + 3].src}}" width="100%" />
          </div>
          <div class="col col-20" ng-if="$index + 4 < selects.length" ng-click="deselectItem(selects[$index + 4])">
            <img ng-src="{{selects[$index + 4].src}}" width="100%" />
          </div>
        </div>
    </div>

    <div class="recipe_button">
      <button class="button button-balanced">
        REZEPTE SUCHEN
      </button>
    </div>

    <div class="item_list_container" >
      <div class="row" ng-repeat="ingredient in all_ingredients | orderBy: 'name' | searchIngredients:search" ng-if="$index % 5 === 0" >
        <div class="col col-20" ng-if="$index < all_ingredients.length" ng-click="selectItem(all_ingredients[$index])">
          <img ng-src="{{all_ingredients[$index].src}}" width="100%" />
        </div>
        <div class="col col-20" ng-if="$index + 1 < all_ingredients.length" ng-click="selectItem(all_ingredients[$index + 1])">
          <img ng-src="{{all_ingredients[$index + 1].src}}" width="100%" />
        </div>
        <div class="col col-20" ng-if="$index + 2 < all_ingredients.length" ng-click="selectItem(all_ingredients[$index + 2])">
          <img ng-src="{{all_ingredients[$index + 2].src}}" width="100%" />
        </div>
        <div class="col col-20" ng-if="$index + 3 < all_ingredients.length" ng-click="selectItem(all_ingredients[$index + 3])">
          <img ng-src="{{all_ingredients[$index + 3].src}}" width="100%" />
        </div>
        <div class="col col-20" ng-if="$index + 4 < all_ingredients.length" ng-click="selectItem(all_ingredients[$index + 4])">
          <img ng-src="{{all_ingredients[$index + 4].src}}" width="100%" />
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
